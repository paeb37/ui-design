{% extends "layout.html" %}

{% block content %}

<!-- To show a particular kdrama -->
<script>
    function redirectToQuiz(state) {
        // Assuming 'id' is always '1' in this example.
        // Change the URL path to match your application's routing structure.
        window.location.href = '/test/' + state;
  }
</script>

<br>

<h1>
    You And Your Test Report #{{problem_number}}
</h1>

<div class="feedback-container">
    <div class="user-answer">
      Your answer: <span id="userAnswer" style="font-weight: bold;">{{your_ans}}</span> <!-- Placeholder for user answer -->
    </div>
    <div class="correct-answer">
      Correct answer: <span id="correctAnswer" style="font-weight: bold;">{{correct_ans}}</span> <!-- Placeholder for correct answer -->
    </div>
    {% if correct %}
    <div id="result" class="result correct">
      <!-- Change class to 'incorrect' if the user is wrong -->
      Correct!
    </div>

    <div id="result" class="result neutral">
      Cumulative Score: {{score}}/5
    </div>

    <br> 

    <!-- Now print a congratulatory message -->
    <h4>
    Congratulations on finishing question {{problem_number}} of the test, feel free to retry or continue!
    </h4>

    <br> 

    {% else %}

    <div id="result" class="result incorrect">
        <!-- Change class to 'incorrect' if the user is wrong -->
      Incorrect!
    </div>

    <div id="result" class="result neutral">
      Cumulative Score: {{score}}/5
    </div>

    <br> 

    <!-- Now print a congratulatory message -->
    <h4>
    Good try. Feel free to retry this question on the test, or continue.
    </h4>

    <br> 

    {% endif %}
</div>

<div class="row type-bottom"> <!-- Top row -->
    <div class="col-md-4"><a href="/test/{{problem_number}}" class="btn btn-primary mt-auto">Retry</a></div>
    <div class="col-md-4"><span class="type-bottom-text intro"><i> </i></span></div>

    {% if problem_number == 5 %}
    <div class="col-md-4"><a href="/home/reset" class="btn btn-primary mt-auto type-bottom-bottom">Home</a></div>
    {% else %}
    <div class="col-md-4"><a href="/test/{{problem_number + 1}}" class="btn btn-primary mt-auto type-bottom-bottom">Next Test</a></div>
    {% endif %}
</div>

{% endblock %}